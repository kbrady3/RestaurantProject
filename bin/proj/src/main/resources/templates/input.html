<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<link rel="icon" type="image/x-icon" href="burger.png">
<meta charset="UTF-8">
<link th:href = "@{/stylesheet.css}" rel="stylesheet">
<title>New or Edit Customer</title>

<script type = "text/javascript">
        
	function checkForm(form){
		
		var letters = /^[0-9]/;
		
		if(form.firstName.value === "") {
		     alert("Error: first name must not be empty");
		     form.firstName.focus();
		     return false;
		}
		
		if(form.lastName.value === "") {
		    alert("Error: last name must not be empty");
		    form.lastName.focus();
		    return false;
		}
		
		if(form.phone.value === ""){
			alert("Error: Please enter a phone number");
			form.phone.focus();
			return false;
		}
		
		if(!form.phone.value.match(letters)){
			alert("Error : phone number must be numbers");
			form.phone.focus();
			return false;
		}
		
		if (form.email.value === "") {
			alert("Error: email must not be empty");
		    form.email.focus();
		    return false;
		}
		
		if (form.address.value === "") {
			alert("Error: address must not be empty");
		    form.address.focus();
		    return false;
		}
		
		if (form.creditCard.value === "" || !form.creditCard.value.match(letters)) {
			alert("Error: credit card is invalid");
		    form.address.focus();
		    return false;
		}
		
		return true;
		
	}	
        
</script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <a class="navbar-brand text-dark" href="index.html"><img src="burger.png" style="width:100px"></a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item active">
        <a class="nav-link text-dark" href="index.html">Home</a>
      </li>
      <li class="nav-item">
        <a class="nav-link text-dark" href="displayMenu">Menu</a>
      </li>
      <li class="nav-item">
        <a class="nav-link text-dark" href="addCustomerOrder">Place Order</a>
      </li>
      <li class="nav-item">
        <a class="nav-link text-dark float-right" href="addNewCustomer">Register</a>
      </li>
    </ul>
  </div>
</nav>
<br/>

<div class="container">

	<form th:object="${newCustomer}" th:action="@{/update/{id}(id=${newCustomer.id})}" method="post" onsubmit="return checkForm(this)">
	  <div class="form-group">
	    <label for="firstName">First Name</label>
	    <input name="firstName" class="form-control" th:field="*{firstName}">
	  </div>
	  <div class="form-group">
	    <label for="lastName">Last Name</label>
	    <input name="lastName" class="form-control" th:field="*{lastName}">
	  </div>
	  <div class="form-group">
	    <label for="phone">Phone</label>
	    <input name="phone" class="form-control" th:field="*{phone}">
	  </div>
	  <div class="form-group">
	    <label for="email">Email</label>
	    <input type = "email" name="email" class="form-control" th:field="*{email}">
	  </div>
	  <div class="form-group">
	    <label for="address">Address</label>
	    <input name="address" class="form-control" th:field="*{address}">
	  </div>
	  <div class="form-group">
	    <label for="creditCard">Credit Card Number</label>
	    <input name="creditCard" class="form-control" th:field="*{creditCard}">
	  </div>
	  <br/>
	  <button type="submit" class="btn btn-primary">Submit</button>
	</form>
	
	<br/>
	
	<a href="../displayProfile">View all users</a> <!-- Click to view all user info -->
	<br/>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>
</body>
</html>